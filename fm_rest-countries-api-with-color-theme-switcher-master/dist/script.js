const $=document.querySelector.bind(document),$$=document.querySelectorAll.bind(document),countriesElm=$(".countries"),btnToggleElm=$(".btn-toggle"),bodyElm=$("body"),allCountriesElm=$(".all-countries"),singleCountryElm=$(".single-country");async function init(){"not all"!==window.matchMedia("(prefers-color-scheme)").media&&toggleMode("light");const n=await fetch("https://restcountries.com/v2/all");renderData(await n.json()),tools()}function renderData(n){const e=n=>n.toString().replace(/\B(?=(\d{3})+(?!\d))/g,","),t=n.map((n=>n.alpha3Code));n.map((o=>{const s=o.flag,i=o.name,l=o.population,a=o.region,c=o.capital,r=document.createElement("div");r.classList.add("country"),r.innerHTML=`\n    <img src="${s}" alt="" class ='country__flag'>\n    <div class="country__info">\n      <h2 class="country__name">${i}</h2>\n      <p class="country__info__item">Population: <span>${e(l)}</span></p>\n      <p class="country__info__item">Region: <span>${a}</span></p>\n      <p class="country__info__item">Capital: <span>${c}</span></p>\n    </div>\n    `,r.addEventListener("click",(()=>{allCountriesElm.style.display="none",singleCountryElm.style.display="grid";const r=o.nativeName,d=o.subregion,p=o.topLevelDomain[0],m=o.languages.map((n=>n.name)).join(", "),u=o.borders;let y;y=void 0===o.currencies?"Don't have data":o.currencies.map((n=>n.name)).join(", "),singleCountryElm.innerHTML=`\n    <div class="btn btn--back">\n      <ion-icon name="arrow-back-outline"></ion-icon>\n      <p>Back</p>\n    </div>\n    <img src="${s}" alt="" class="single-country__flag">\n    <div class="single-country__info">\n      <h2 class="country__name">${i}</h2>\n      <p class="country__info__item">Native Name: <span>${r}</span></p>\n      <p class="country__info__item">Population: <span>${e(l)}</span></p>\n      <p class="country__info__item">Region: <span>${a}</span></p>\n      <p class="country__info__item">Sub Region: <span>${d}</span></p>\n      <p class="country__info__item">Capital: <span>${c}</span></p>\n      <p class="country__info__item">Top Level Domain: <span>${p}</span></p>\n      <p class="country__info__item">Currencies: <span>${y}</span></p>\n      <p class="country__info__item">Languages: <span>${m}</span></p>\n    </div>\n    <div class="single-country__border">\n      <h3>Border Countries:</h3>\n      <div class='border-item-container'>\n      </div>\n    </div>\n      `;const _=$(".border-item-container");void 0!==u&&u.forEach((e=>{const o=document.createElement("span"),s=t.indexOf(e);o.textContent=n[s].name,_.appendChild(o)}));$(".btn--back").addEventListener("click",(()=>{allCountriesElm.style.display="block",singleCountryElm.style.display="none"}))})),countriesElm.appendChild(r)}))}function tools(){const n=$$(".country");let e=Array.from(n),t=[],o=[];(function(){let o,s=0;const i=$("#search-input");i.addEventListener("input",(()=>{if(isEmptySearch=""===i.value.trim(),isEmptySearch)n.forEach((n=>{n.style.display="block"})),e=Array.from(n),t=[];else{o=s,s=(l=i.value,l.replace(/\s/g,"")).length;const n=o-s==1;let a=e.length,c=t.length,r=0;if(n)for(;0!==c;){c--;const n=t[c];t[c].childNodes[3].childNodes[1].textContent.toLowerCase().trim().includes(i.value.toLowerCase().trim())&&(n.style.display="block",t.splice(c,1),e.push(n))}else{for(;0!==a;){a--;const n=e[a];e[a].childNodes[3].childNodes[1].textContent.toLowerCase().trim().includes(i.value.toLowerCase().trim())||(n.style.display="none",e.splice(a,1),t.push(n))}for(;0!==c;){c--;const n=t[c];t[c].childNodes[3].childNodes[1].textContent.toLowerCase().trim().includes(i.value.toLowerCase().trim())&&(n.style.display="block",t.splice(c,1),e.push(n))}}countriesElm.style.justifyContent=r<=3?"flex-start":"space-between"}var l}))})(),$(".filter-box").addEventListener("click",(n=>{if(n.target.classList.contains("filter-box__item")){const t=$(".filter-box>p"),s=$(".filterIcon"),i=n.target.textContent;let l=e.length;for(t.textContent=`Region: ${n.target.textContent}`,s.setAttribute("name","close-outline"),s.classList.add("clear"),s.addEventListener("click",(()=>{let n=o.length;for(t.textContent="Filter by Region",s.setAttribute("name","chevron-down-outline"),s.classList.remove("clear");0!==n;){n--;const t=o[n];t.style.display="block",o.splice(n,1),e.push(t)}}));0!==l;){l--;const n=e[l];e[l].childNodes[3].childNodes[5].textContent.includes(i)||(n.style.display="none",e.splice(l,1),o.push(n))}}}))}function toggleMode(n){"light"===n&&(bodyElm.classList.remove("light"),bodyElm.classList.add("dark"),btnToggleElm.innerHTML='<ion-icon name="moon" id="dark-icon"></ion-icon>Dark Mode'),"dark"===n&&(bodyElm.classList.remove("dark"),bodyElm.classList.add("light"),btnToggleElm.innerHTML='<ion-icon name="sunny" id="light-icon"></ion-icon>Light Mode')}btnToggleElm.addEventListener("click",(()=>{toggleMode(bodyElm.className)})),init();
//# sourceMappingURL=script.js.map